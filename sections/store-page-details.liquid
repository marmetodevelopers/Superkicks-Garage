{% if section.blocks.size > 0 %}
  <div class="page-width section-{{ section.id }}-padding store-page" data-attr="{{ section.settings.place_name }}">
    <div class="store-page-banner">
      {%- for block in section.blocks -%}
        <div class="store-page-banner__wrapper">
           {%- if block.settings.image != blank -%}
             <img src="{{ block.settings.image | img_url: 'master' }}">
           {%- endif -%}
        <div class="banner-place-name">
          <span>{{ section.settings.place_name }}</span>
        </div>
        </div>
      {% endfor %}
    </div>
    <div class="description">
      <div class="store-description">
        {%- if section.settings.description != blank -%}
          {{ section.settings.description }}
        {% endif %}
        <div class="description-detail">
          <div class="description-details-container">
            <div class="description-phone_number">
                {%- if section.settings.phone_number != blank -%}
                    <a href="tel:{{ section.settings.phone_number }}"><span><b>Phone: </b>{{ section.settings.phone_number }}</span></a> 
                {% endif %}
            </div>
            <div class="description-email-id">
                {%- if section.settings.email_id != blank -%}
                  <a href="mailto: {{ section.settings.email_id }}"><span><b>Email: </b>{{ section.settings.email_id }}</span></a>
                {% endif %}
            </div>
          </div>
          <div class="description-opening_hours">
            {%- if section.settings.opening_hours != blank -%}
              {{ section.settings.opening_hours }}
            {% endif %}
          </div>
        </div>
      </div>
      <div class="description-map_image"> 
       <a href="{{ section.settings.map_link }}">
          <div class="small-hide">
             {%- if section.settings.map_image != blank -%}
               <img src="{{ section.settings.map_image | img_url: 'master' }}">
             {%- endif -%}
          </div>
          <div class="large-up-hide medium-hide mobile__map-image">
             {%- if section.settings.map_image2 != blank -%}
               <img src="{{ section.settings.map_image2 | img_url: 'master' }}">
             {%- endif -%}
          </div>
        </a>
      </div>
    </div><hr>
  </div>
{% endif %}

<script>
document.addEventListener('DOMContentLoaded', (event) => {
  var mybanners = document.querySelectorAll('.store-page-banner');
  mybanners.forEach(element => {
    var flkty = new Flickity( element, {
          // options
          contains: true,
          prevNextButtons: true,
          pageDots: true,
          arrowShape: { 
              x0: 10,
              x1: 60, y1: 50,
              x2: 60, y2: 40,
              x3: 20
            }
        });
  });
});
</script>

{% schema %}
{
  "name": "Store Page Details",
  "class": "section",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_id",
      "label": "Section id",
      "info": "Please add name of city related to tab"
    },
    {
      "type": "text",
      "id": "place_name",
      "label": "Place name"
    },
     {
      "type": "text",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "richtext",
      "id": "phone_number",
      "label": "Phone number"
    },
    {
      "type": "richtext",
      "id": "email_id",
      "label": "Email id"
    },
    {
      "type": "richtext",
      "id": "opening_hours",
      "label": "Opening hours"
    },
    {
      "type": "image_picker",
      "id": "map_image",
      "label": "Map Image (Desktop)"
    },
    {
      "type": "image_picker",
      "id": "map_image2",
      "label": "Map Image (Mobile)"
    },
    {
      "type":"url",
      "id": "map_link",
      "label": "Map link"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "slider-image",
      "name": "Slider image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Store Page Details"
    }
  ]
}
{% endschema %}